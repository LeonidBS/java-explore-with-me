# Explore-with-me project.
#  **Общее описание** #
Выполнена в рамках дипломного проекта.
Позволяет пользователям делиться информацией об интересных событиях и находить компанию для участия в них

## Стек
![](https://img.shields.io/badge/Java_11-orange)
![](https://img.shields.io/badge/Maven-red)
![](https://img.shields.io/badge/Lombok-orange)
![](https://img.shields.io/badge/Spring_boot-green)
![](https://img.shields.io/badge/Spring_validation-yellow)
![](https://img.shields.io/badge/PostgreSQL-blue)
![](https://img.shields.io/badge/Hibernate-grey)
![](https://img.shields.io/badge/JUnit-brown)
![](https://img.shields.io/badge/Mock-light)

## Модули ##
Приложение является многомодульным.

### Основной модуль

Основной модуль содержит всё необходимое для работы продукта, такое как:

- Модели данных для событий, пользователей, комментариев и т.д.
- Репозитории для доступа к базе данных
- Сервисы для бизнес-логики
- Контроллеры для обработки запросов
- Конфигурации для подключения к базе данных и другим ресурсам
- Тесты для проверки корректности работы приложения

API основного сервиса разделено на три части:

- Публичная - будет доступна без регистрации любому пользователю сети. Она позволяет просматривать список событий, фильтровать их по категориям, датам и местоположению, а также просматривать детали конкретного события.
- Закрытая - будет доступна только авторизованным пользователям. Она позволяет создавать, редактировать и удалять свои события, подписываться на события других пользователей, оставлять комментарии и оценки, а также просматривать свой профиль и настройки.
- Административная - для администраторов сервиса. Она позволяет управлять всеми сущностями в базе данных, просматривать статистику по сервису, а также блокировать и разблокировать пользователей.

### Модуль статистики

Модуль статистики хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения. Он использует отдельную базу данных H2 для хранения статистических данных. Он также предоставляет API для получения статистики по разным параметрам.



### Структура модулей ###

![Architecture](/resources/arch.png)


### История, пояснения ###
Работа раздлена на три этапа.
<br/>
## Этап 1. Сервис статистики ##


### База данных сервиса статистики ###

![Architecture](/resources/stats.png)

Table endpoint_hits {  <br/>
id integer [primary key] <br/>
app varchar(255) [not null] <br/>
uri varchar [not null] <br/>
ip varchar(50) [not null] <br/>
fduration integer [not null] <br/>
mpa_id integer [not null] <br/>
} <br/><br/>


## Этап 2. Основной сервис ##

### База данных основного сервиса ###

Дианрамма
![Architecture](/resources/diagram.png)


Основной сервис реализован в соответствии с Техническим заданием в полном объеме.


## Этап 3. Дополнительная функциональность ##


В качастве дополнительно задания выбрано реализация функциональносьти: Рэйтинги 

#### Функции: ####
Ставить лайк/дизлайк событию.
Расчет рейтингов событий и пользователей
Отображение лайков и рейтингов в DTO событий и пользователей
Сортировка по рейтингам
Возможность добавления эмоджи (с доработкой кода)


#### Правила #### 
Показывать рейтинг события и лайки публично
Показывать рейтинг пользователя пользователям и администраторам
Разрешить ставить лайк/дизлайк только , если пользователь имеет подтвержденный запрос на участие
Только публичным событиям можно ставить оценки
Запрещено ставить лайки своим событиям

#### Рейтинг событий ####
(Количество посещений - Количество дизлайков)  * Количество лайков

#### Рейтинг пользователя ####
Сумма рейтингов событий

## Запуск приложения
Для развертывания проекта используется Docker-compose, в терминале нужно открыть директорию проекта и ввести команду ```docker-compose up```.  
Используемая версия языка Java - 11.

## Развитие ##
Планируется произвести рефакторинг

